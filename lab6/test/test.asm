.ORIG x3000

;TEST LOAD
LEA R6, ONE
LDW R0, R6, #0
LDB R1, R6, #1
LDB R2, R6, #2
LDW R3, R6, #1
LDW R4, R6, #2
;EXPECTED: R0 = xABCD, R1 = xFFAB, R2 = x34, R3 = x1234, R4 = x3457, R6 = 0x302E

;TEST STORE
LEA R6, FOUR
LDW R7, R6, #0
STB R1, R7, #0
STB R2, R7, #1
STW R0, R7, #1
STW R3, R7, #4
;EXPECTED x4000 = xAB, x4001 = x34, x4002 = xABCD, x4008 = x1234

;TEST ADD
ADD R5, R0, R3
ADD R5, R5, #-1
ADD R5, R5, #2 ;EXPECTED: R5 = xBE02

;TEST AND
AND R5, R5, x0003 ; R5=x0002
AND R5, R5, #-1  ; R5=x0002
AND R5, R5, R3  ; R5=x0000

;TEST BRANCH
AND R5, R5, #0
ADD R5, R5, #5
LOOP ADD R5, R5, #-1
BRP LOOP
BR NEXT

ONE .FILL xABCD
TWO .FILL x1234
THREE .FILL x3457
FOUR .FILL x4000
FIVE .FILL xF379

JUMPTEST AND R5, R5, #0
ADD R5, R5, #14
LEA R5, NEXTTEST
JMP R5

;TEST JUMP
NEXT LEA R5, JUMPTEST ;R5=x3038
JMP R5

TESTJSR AND R5, R5, #0
ADD R5, R5, #-2
RET

; TEST JSR
NEXTTEST JSR TESTJSR
LEA R5, TESTJSR
JSRR R5

;TEST SHIFT
LEA R7, FIVE
LDW R5, R7, #0 ; R5=xf379
LSHF R6, R3, #2 ;R3=x48d0
RSHFL R6, R5, #1 ;R6=x79bc
RSHFA R4, R5, #1 ;R4=xf9bc

;TEST XOR
NOT R5, R0 ;R5=x5432
NOT R6, R5 ;R6=xabcd
XOR R6, R6, R5 ;R6=xffff
XOR R5, R0, R3 ;R5=xb9f9
XOR R5, R0, #-1 ;R5=x5432
XOR R5, R0, #7 ;R5=abca
XOR R5, R0, #0 ;R5=abcd

HALT

.END